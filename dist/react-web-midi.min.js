!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactWebMidi=e()}}(function(){return function e(t,a,n){function o(i,r){if(!a[i]){if(!t[i]){var c="function"==typeof require&&require;if(!r&&c)return c(i,!0);if(s)return s(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var u=a[i]={exports:{}};t[i][0].call(u.exports,function(e){var a=t[i][1][e];return o(a?a:e)},u,u.exports,e,t,a,n)}return a[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,a){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=function(e,t,a){for(var n=!0;n;){var o=e,s=t,i=a;n=!1,null===o&&(o=Function.prototype);var r=Object.getOwnPropertyDescriptor(o,s);if(void 0!==r){if("value"in r)return r.value;var c=r.get;if(void 0===c)return;return c.call(i)}var d=Object.getPrototypeOf(o);if(null===d)return;e=d,t=s,a=i,n=!0,r=d=void 0}},d="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,u=o(d),l=e("./lib/MidiScript"),f=o(l),p={},v={},m=function(e){function t(){s(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),r(t,[{key:"componentDidMount",value:function(){(0,f["default"])()}},{key:"render",value:function(){return u["default"].createElement("div",null,u["default"].createElement("div",{id:"content"},u["default"].createElement("div",{className:"button","data-key":"q","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"}),u["default"].createElement("div",{className:"button","data-key":"w","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"}),u["default"].createElement("div",{className:"button","data-key":"e","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"}),u["default"].createElement("div",{className:"button","data-key":"r","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"}),u["default"].createElement("div",{className:"button","data-key":"t","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"}),u["default"].createElement("div",{className:"button","data-key":"y","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"}),u["default"].createElement("div",{className:"button","data-key":"u","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"}),u["default"].createElement("div",{className:"button","data-key":"i","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"}),u["default"].createElement("div",{className:"button","data-key":"o","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"}),u["default"].createElement("div",{className:"button","data-key":"p","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"}),u["default"].createElement("div",{className:"button","data-key":"[","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"}),u["default"].createElement("div",{className:"button","data-key":"]","data-sound":"https://dl.dropboxusercontent.com/s/h9sow482vkw06xe/dinky-kick.mp3"})),u["default"].createElement("div",{id:"device_info"},u["default"].createElement("div",{id:"key_data"}),u["default"].createElement("div",{id:"inputs"}),u["default"].createElement("div",{id:"outputs"}),u["default"].createElement("div",{id:"displayNotes"})))}}]),t}(d.Component);a["default"]=m,m.propTypes=p,m.defaultProps=v,t.exports=a["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/MidiScript":2}],2:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]=function(){function e(e){e.target.classList.add("active"),e.target.play()}function t(e){e.target.classList.remove("active")}function a(e){if("keydown"===e.type)switch(console.log(e),e.keyCode){case 81:E[0].classList.add("active"),E[0].play();break;case 87:E[1].classList.add("active"),E[1].play();break;case 69:E[2].classList.add("active"),E[2].play();break;case 82:E[3].classList.add("active"),E[3].play();break;case 84:E[4].classList.add("active"),E[4].play();break;case 89:E[5].classList.add("active"),E[5].play();break;case 85:E[6].classList.add("active"),E[6].play();break;case 73:E[7].classList.add("active"),E[7].play();break;case 79:E[8].classList.add("active"),E[8].play();break;case 80:E[9].classList.add("active"),E[9].play();break;case 219:E[10].classList.add("active"),E[10].play();break;case 221:E[11].classList.add("active"),E[11].play()}else if("keyup"===e.type)switch(e.keyCode){case 81:E[0].classList.remove("active");break;case 87:E[1].classList.remove("active");break;case 69:E[2].classList.remove("active");break;case 82:E[3].classList.remove("active");break;case 84:E[4].classList.remove("active");break;case 89:E[5].classList.remove("active");break;case 85:E[6].classList.remove("active");break;case 73:E[7].classList.remove("active");break;case 79:E[8].classList.remove("active");break;case 80:E[9].classList.remove("active");break;case 219:E[10].classList.remove("active");break;case 221:E[11].classList.remove("active")}}function n(e){x=e;for(var t=x.inputs.values(),a=t.next();a&&!a.done;a=t.next())a.value.onmidimessage=o,i(a);x.onstatechange=s,l(x)}function o(e){switch(I=e.data,M=I[0]>>4,O=15&I[0],D=240&I[0],N=I[1],C=I[2],k("MIDI data",I),b.innerHTML=b.innerHTML+I,D){case 144:r(N,C);break;case 128:c(N,C)}y(b,"key data",I)}function s(e){l(x);var t=e.port,a=t.state,n=t.name,o=t.type;"input"===o&&k("name",n,"port",t,"state",a)}function i(e){var t=e.value;k("Input port : [ type:'"+t.type+"' id: '"+t.id+"' manufacturer: '"+t.manufacturer+"' name: '"+t.name+"' version: '"+t.version+"']")}function r(e,t){d(e,t)}function c(e,t){d(e,t)}function d(e,t){var a=P["key"+e];if(a){if(128===D||0===t)return void E[a-1].classList.remove("active");E[a-1].classList.add("active"),E[a-1].play(t)}}function u(e){k("No access to MIDI devices or your browser doesn't support WebMIDI API. Please use WebMIDIAPIShim "+e)}function l(e){var t=e.inputs,a=e.outputs,n=void 0,o=void 0,s=void 0;o='<h4>MIDI Inputs:</h4><div class="info">Please connect your MIDI Controller (USB / Midi Cable)</div>',s='<h4>MIDI Outputs:</h4><div class="info">Please connect your MIDI Controller (USB / Midi Cable)</div>',n='<h4>MIDI Inputs:</h4><div class="info">',t.forEach(function(e){n+="<p>"+e.name+"<p>",n+='<p class="small">connection: '+e.connection+"</p>",n+='<p class="small">state: '+e.state+"</p>",n+='<p class="small">manufacturer: '+e.manufacturer+"</p>",e.version&&(n+='<p class="small">version: '+e.version+"</p>")}),console.log(t.size),t.size>1?w.innerHTML=n+"</div>":w.innerHTML=o,n='<h4>MIDI Outputs:</h4><div class="info">',a.forEach(function(e){n+="<p>"+e.name+"<br>",n+='<p class="small">manufacturer: '+e.manufacturer+"</p>",e.version&&(n+='<p class="small">version: '+e.version+"</p>")}),console.log(a.size),a.size>1?h.innerHTML=n+"</div>":h.innerHTML=s}function f(e,t){var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="arraybuffer",a.onload=function(){g.decodeAudioData(a.response,function(t){e.buffer=t})},a.send()}function p(e){e.name=e.id,e.source=e.dataset.sound,f(e,e.source),e.play=function(t){var a,n=g.createBufferSource(),o=g.createGain();n.buffer=e.buffer,n.playbackRate.value=v(.5,2),t?(a=m(t,1,127,.2,2),n.connect(o),o.gain.value=a*a,o.connect(g.destination)):n.connect(g.destination),n.start(),e.s=n}}function v(e,t){return Math.random()*(t+e)+e}function m(e,t,a,n,o){return(e-t)/(a-t)*(o-n)+n}function y(e,t,a){var n=void 0;n=t+" [channel: "+(15&a[0])+", cmd: "+(a[0]>>4)+", type: "+(240&a[0])+" , note: "+a[1]+" , velocity: "+a[2]+"]",e.textContent=n}var k=console.log.bind(console),b=document.getElementById("key_data"),w=document.getElementById("inputs"),h=document.getElementById("outputs"),x=void 0,L=navigator.userAgent.toLowerCase();if(L.indexOf("safari")!==-1)if(L.indexOf("chrome")>-1){console.log("Chrome Browser Detected")}else{webkitAudioContext;console.log("Safari Browser Detected")}var g=new AudioContext,E=(document.getElementById("content"),document.getElementsByClassName("button")),I=void 0,M=void 0,O=void 0,D=void 0,N=void 0,C=void 0;navigator.requestMIDIAccess?navigator.requestMIDIAccess({sysex:!1}).then(n,u):alert("No MIDI support in your browser."),document.addEventListener("keydown",a),document.addEventListener("keyup",a);for(var _=0;_<E.length;_++)E[_].addEventListener("mousedown",e),E[_].addEventListener("mouseup",t);for(var _=0;_<E.length;_++)p(E[_]);var P={key60:1,key61:2,key62:3,key63:4,key64:5,key65:6,key66:7,key67:8,key68:9,key69:10,key70:11,key70:12}},t.exports=a["default"]},{}]},{},[1])(1)});